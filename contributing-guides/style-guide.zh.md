# 格式指导

当你在为 `tldr` 贡献时，请遵守下面的格式规范。

请注意，下面的规范仅适用于中文翻译的 `tldr` 页面。

## 排版

首先，你的页面应该看起来像这样：

```
# 命令名称

> 短小精悍的描述。
> 描述最好只有一行；当然，如果需要，也可以是两行。
> 更多信息：<https://example.com>。

- 命令描述：

`命令 -选项1 -选项2 -参数1 {{参数的值}}`

- 命令描述：

`命令 -选项1 -选项2`
```

当你将自己的贡献提交 pull request 时，一个脚本会自动检查你的贡献是否符合上面的格式。

你也可以在提交前在本地测试自己的贡献：

```
npm install tldr-lint
tldrl -f {{page.md}}
```

关于 `tldrl` 的更多使用方法，例如检查批量检查一整个目录的格式，[`tldr tldrl`](https://github.com/tldr-pages/tldr/blob/master/pages/common/tldrl.md) 是你的不二去处！

如果你用 tldr-pages 的 Node.js 客户端，你可以在命令后加 `-f` (`--render`) 来在本地预览自己的页面：

```
tldr -f {{page.md}}
```

## 中西文混排及格式细节

本项目中，**除命令以外**的文本排版均遵循[《中文文案排版指北》](https://github.com/sparanoid/chinese-copywriting-guidelines)。

简单概括：

- 中文与西文、数字、单位之间需要添加空格。
- 全角标点与其它字符之间不加空格。
- 除大段西文整句，均使用全角标点。
- 专有名词使用正确的大小写，不使用中文特有缩写。

关于中西文混排的更多信息及示例，请看[《中文文案排版指北》](https://github.com/sparanoid/chinese-copywriting-guidelines)以及 Pull request [#5420](https://github.com/tldr-pages/tldr/pull/5240)。

## 占位符 (token) 语法

当命令涉及用户自己提供的值时，请用 `{{token}}` 语法来使 `tldr` 客户端自动高亮它们：

`tar -cf {{目标.tar}} {{文件1}} {{文件2}} {{文件3}}`

翻译时，请尽量翻译原文中的西文占位符。下面是命名占位符的规则：

1. 占位符需要短小精悍，
   例如 `{{源文件}}` 或者 `{{钱包.txt}}`
2. 如果占位符是西文，请用 [`snake_case`](https://en.wikipedia.org/wiki/Snake_case) 来分词。
3. 当占位符涉及文件路径时，请用 `{{目录/子目录/<占位符>}}` 的格式。
   例如：`ln -s {{目录/子目录/源文件}} {{目录/子目录/链接}}`
   如果占位符提到的文件也可能是目录，请用 `{{目录/子目录/文件或目录}}`
4. 除非文件是特定的，上述 `{{目录/子目录/<占位符>}}` 的文件路径格式应用于所有包含路径的命令。
5. 如果命令需要的文件扩展名是固定的，请在占位符里加上文件格式。
   例如：`unrar x {{压缩包.rar}}`
   如果文件 **必须** 有一个扩展名，请用 `{{.ext}}` 。
   例如，在 `find {{起始目录}} -name '{{*.ext}}'` 的例子里，
   这样做简单地演示了查找一个特定文件扩展名的方法。
   但是，在 `wc -l {{file}}` 的例子里，用不加扩展名的 `{{file}}` 就足够了。
6. 如果用实际的值比描述这个占位符更加明了，请举一个值做例子。
   例如：`iostat {{2}}` 比 `iostat {{以秒为单位的间隔}}` 更清晰。
7. 如果一个命令可能对文件系统或设备造成不可逆的影响，请在示例命令中注意改写，使其不能被盲目复制粘贴运行。
   例如，`ddrescue --force --no-scrape /dev/sda /dev/sdb` 被盲目复制粘贴时可能对系统造成毁灭性的打击；`ddrescue --force --no-scrape {{/dev/sdX}} {{/dev/sdY}}` 则更安全。
   因此，请用 `{{/dev/sdXY}}` 而不是 `{{/dev/sda1}}` 来表示一个 **块设备** 。

占位符应该尽可能简单明了，让人一眼就能看出应该替换它的值。

在命令描述中，如果出现了技术性的专有名词，请用 `反引号` 括起来：

1. 路径，例如 `package.json`，`/etc/package.json`。
2. 扩展名，例如 `.dll`。
3. 命令，例如 `ls`。
